[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "SQL Fundamentals with BigQuery",
    "section": "",
    "text": "Preface\nThis is a Quarto book.\nTo learn more about Quarto books visit https://quarto.org/docs/books.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This is a book to learn SQL on Bigquery",
    "crumbs": [
      "About"
    ]
  },
  {
    "objectID": "sql-basics.html",
    "href": "sql-basics.html",
    "title": "1  The First Steps",
    "section": "",
    "text": "In SQL there is a subset of knowledge that is focused on retrieving data from tables. This is called DQL (Data Query Language).\nBigquery is a very DQL-centric database, by this way our queries are optimized to SELECT information (columns) from tables so we can perform analysis and use this data to help us answer questions by data-centric way.\nTo retrieve information from a table, we need to inform for the query engine which table we want to retrieve information FROM\nThis leads us for the most basic command to retrieve information from any SQL based databases:\nSELECT * FROM `bigquery-public-data.openaq.global_air_quality`\nSELECT * is known as “SELECT star” and is a way to fetch all the columns from the table. Even that this technique looks easy and without effort, it’s normally not optimal to run it to queries that contains a high number os columns since it may increase the cloud cost significantly due to the usage of computational resources.\n\nAnother important command to learn is the filtering functionality “WHERE”. With this command we may filter out results for the author’s analysis. For example, if we are analyzing taxi-drives, maybe we want to analyze the rides of a specific city. This can be done with the following query:\nSELECT * FROM `bigquery-public-data.openaq.global_air_quality`\nWHERE country = \"BR\"\nTo reduce the usage of computational resources (costs), one way is to filter the number of columns you are currently retrieving. Another way is to – Sometimes you are going to be dealing with huge number of data, this is why it’s important to filter, or to limit the data.\n\nfrom IPython.display import display, Markdown,  HTML\nimport pandas as pd\n# with this I can hide the code that is used\n#| echo: False\n\nquery = \"\"\"\nSELECT user_id, COUNT(*) as total\nFROM `project.dataset.table`\nWHERE event_date &gt;= '2024-01-01'\nGROUP BY user_id\nORDER BY total DESC\nLIMIT 10;\n\"\"\"\n\n# Wrap it in code block markdown with SQL\ndisplay(Markdown(f\"```sql\\n{query}\\n```\"))\n\ndata = pd.DataFrame(\n    [\n        [1,2,1],\n        [2,3,4],\n        [3,4,9]\n    ],\n    columns = ['numbers', 'plus_one', 'square']\n)\n\nHTML(data.to_html(index=False))\n\n\nSELECT user_id, COUNT(*) as total\nFROM `project.dataset.table`\nWHERE event_date &gt;= '2024-01-01'\nGROUP BY user_id\nORDER BY total DESC\nLIMIT 10;\n\n\n\n\n\nnumbers\nplus_one\nsquare\n\n\n\n\n1\n2\n1\n\n\n2\n3\n4\n\n\n3\n4\n9",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>The First Steps</span>"
    ]
  }
]